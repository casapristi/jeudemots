const wordsElement=document.getElementById("favs-words"),rhymesElement=document.getElementById("favs-rhymes"),gotoFavs=document.getElementById("goto-favs");function load(){let i=JSON.parse(window.localStorage.getItem("favs")||"[]"),j=i.filter(a=>1===a.type),k=i.filter(a=>2===a.type);for(let{word:l,baseWord:p}of(wordsElement.innerHTML="",rhymesElement.innerHTML="",0===j.length&&(wordsElement.textContent="Aucun jeu de mot favori."),0===k.length&&(rhymesElement.textContent="Aucune rime favorite."),j)){let a=document.createElement("div"),e=document.createElement("div"),m=document.createElement("h4"),g=document.createElement("p"),b=document.createElement("i");m.textContent=l,g.textContent="Avec "+p,g.classList.add("original-word"),b.classList.add("fas"),b.classList.add("fa-heart"),b.classList.add("red"),e.classList.add("word-text-content"),a.classList.add("word-details"),a.id=l,b.addEventListener("click",()=>{let b=i.findIndex(a=>a.word===l&&a.baseWord===p);i.splice(b,1),a.remove(),window.localStorage.setItem("favs",JSON.stringify(i)),0===i.filter(a=>1===a.type).length&&(wordsElement.textContent="Aucun jeu de mot favori.")}),e.append(m),e.append(g),a.append(e),a.append(b),wordsElement.append(a)}for(let{word:n,baseWord:q}of k){let c=document.createElement("div"),f=document.createElement("div"),o=document.createElement("h4"),h=document.createElement("p"),d=document.createElement("i");o.innerHTML=n,h.textContent="Rime avec "+q,h.classList.add("original-word"),d.classList.add("fas"),d.classList.add("fa-heart"),d.classList.add("red"),f.classList.add("word-text-content"),c.classList.add("word-details"),c.id=n,d.addEventListener("click",()=>{let a=i.findIndex(a=>a.word===n&&a.baseWord===q);i.splice(a,1),c.remove(),window.localStorage.setItem("favs",JSON.stringify(i)),0===i.filter(a=>2===a.type).length&&(rhymesElement.textContent="Aucune rime favorite.")}),f.append(o),f.append(h),c.append(f),c.append(d),rhymesElement.append(c)}document.getElementById("searchbar-favs").addEventListener("input",a=>{let b=a.target.value.toLowerCase();i.forEach(a=>{a.word.startsWith(b)?document.getElementById(a.word).style.display="flex":document.getElementById(a.word).style.display="none"})})}load(),gotoFavs.addEventListener("click",load)
